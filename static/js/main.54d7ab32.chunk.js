(this["webpackJsonpreact-firebase"]=this["webpackJsonpreact-firebase"]||[]).push([[0],{91:function(e,a,c){},93:function(e,a,c){"use strict";c.r(a);var t=c(5),s=c.n(t),n=c(35),i=c.n(n),r=c(12),j=c(0),o=c.n(j),l=c(2),b=c(112),d=c(54),u=c.n(d),O=c(63),h=c.n(O),p=c(64),f=c.n(p),m=c(65),x=c.n(m),v=c(110),g=c(7);var _=function(e){e.id;var a=e.nombreCanal;return Object(g.jsx)("div",{className:"sidebarChannel",children:Object(g.jsxs)("h4",{children:[Object(g.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),a]})})},N=c(57),S=Object(N.a)({apiKey:"AIzaSyAW_fhCTOzoZtzMefYhBB7oiJWjDN5LkfY",authDomain:"copia-discord.firebaseapp.com",projectId:"copia-discord",storageBucket:"copia-discord.appspot.com",messagingSenderId:"433403545442",appId:"1:433403545442:web:defce888f0124b6342ce3b"}),C=c(20),y=c(32),k=Object(C.d)(S),w=Object(y.b)(S);var I=function(e){var a=e.setCanal,c=e.usuario,s=Object(t.useState)([]),n=Object(r.a)(s,2),i=n[0],j=n[1];function d(){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(o.a.mark((function e(){var a,c,t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(C.a)(k,"canales"),c=Object(C.f)(a,Object(C.e)("id")),e.next=4,Object(C.c)(c);case 4:t=e.sent,s=[],t.forEach((function(e){s.push(e.data())})),j(s);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(t.useEffect)((function(){d()}),[]),Object(g.jsxs)("div",{className:"sidebar",children:[Object(g.jsxs)("div",{className:"sidebar__top",children:[Object(g.jsx)("h3",{children:"Servidor de Lasfito"}),Object(g.jsx)(u.a,{})]}),Object(g.jsxs)("div",{className:"sidebar__channels",children:[Object(g.jsxs)("div",{className:"sidebar__channelsHeader",children:[Object(g.jsxs)("div",{className:"sidebar__header",children:[Object(g.jsx)(u.a,{}),Object(g.jsx)("h4",{children:"Canales de Texto"})]}),Object(g.jsx)(h.a,{className:"sidebar__addChannel",onClick:function(){var e=prompt("Ingresa nombre del canal");if(e){var a=Object(C.b)(k,"canales/".concat(e));Object(C.g)(a,{id:(new Date).getTime(),nombre:e})}d()}})]}),Object(g.jsx)("div",{className:"sidebar__channelsLisr",children:i?i.map((function(e){return Object(g.jsxs)("div",{onClick:function(){a(e)},children:[Object(g.jsx)(_,{id:e.id,nombreCanal:e.nombre},e.id)," "]})})):null})]}),Object(g.jsxs)("div",{className:"sidebar__profile",children:[Object(g.jsx)(b.a,{onClick:function(){return console.log("cerrar sesi\xf3n auth.signout")},src:c.photoURL}),Object(g.jsxs)("div",{className:"sidebar__profileInfo",children:[Object(g.jsx)("h3",{children:c.displayName}),Object(g.jsxs)("p",{children:[" ",c.uid.substring(0,5)," "]})]}),Object(g.jsxs)("div",{className:"sidebar__profileIcons",children:[Object(g.jsx)(f.a,{}),Object(g.jsx)(v.a,{}),Object(g.jsx)(x.a,{onClick:function(){return Object(y.e)(w)}})]})]})]})},E=c(72),z=c.n(E),D=c(73),B=c.n(D),H=c(74),L=c.n(H),T=c(75),M=c.n(T),A=c(66),J=c.n(A),R=c(67),F=c.n(R),U=c(68),W=c.n(U),Y=c(69),G=c.n(Y),K=c(70),V=c.n(K),Z=c(71),q=c.n(Z);var P=function(e){var a=e.canal;return Object(g.jsxs)("div",{className:"chatHeader",children:[Object(g.jsx)("div",{className:"chatHeader__left",children:Object(g.jsxs)("h3",{children:[Object(g.jsx)("span",{className:"chatHeader__hash",children:"#"}),a?a.nombre:null]})}),Object(g.jsxs)("div",{className:"chatHeader__right",children:[Object(g.jsx)(J.a,{}),Object(g.jsx)(F.a,{}),Object(g.jsx)(W.a,{}),Object(g.jsxs)("div",{className:"chatHeader__search",children:[Object(g.jsx)("input",{placeholder:"Search"}),Object(g.jsx)(G.a,{})]}),Object(g.jsx)(V.a,{}),Object(g.jsx)(q.a,{})]})]})};var Q=function(e){var a=e.id,c=e.usuario,t=e.mensaje,s=e.foto;return console.log(s),Object(g.jsx)("div",{className:"message",children:c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.a,{src:s}),Object(g.jsxs)("div",{className:"message__info",children:[Object(g.jsxs)("h4",{children:[c,Object(g.jsx)("span",{className:"message__timestamp",children:new Date(a).toLocaleString()})]}),Object(g.jsx)("p",{children:t})]})]}):null})},X=Object(C.d)(S);var $=function(e){var a=e.canal,c=e.usuario,s=Object(t.useRef)(),n=Object(t.useState)(""),i=Object(r.a)(n,2),j=i[0],b=i[1],d=Object(t.useState)([]),u=Object(r.a)(d,2),O=u[0],h=u[1];function p(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function e(){var c,t,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(C.a)(X,"canales/".concat(a.nombre,"/mensajes")),e.next=3,Object(C.c)(c);case 3:t=e.sent,s=[],t.forEach((function(e){s.push(e.data())})),console.log("array de mensajes obtenidos",s),h([].concat(s));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(t.useEffect)((function(){a&&(p(),console.log("use Effect ejecutdo"))}),[a]),Object(g.jsxs)("div",{className:"chat",children:[Object(g.jsx)(P,{canal:a}),Object(g.jsxs)("div",{className:"chat__messages",children:[O?O.map((function(e){return Object(g.jsx)(Q,{id:e.id,mensaje:e.mensaje,usuario:e.usuario,foto:e.foto})})):null,Object(g.jsx)("div",{ref:s,style:{marginBottom:"75px"}})]}),Object(g.jsxs)("div",{className:"chat__input",children:[Object(g.jsx)(z.a,{fontsize:"large"}),Object(g.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(C.b)(X,"canales/".concat(a.nombre,"/mensajes/").concat((new Date).getTime())),n=function(e){var a=["puto","putos","puta","putas","verga","marica","maricas","pito","pene","pendejo","pendejos","pelana","hdp","hijoputa","torpe","idiota","imb\xe9cil","est\xfapido","mentecato","papanatas","tonto","bobo","tarado","tarugo","faggot","nigga","fuck","fag","nigger","niger","redneck"],c=e.split(" ");return c.forEach((function(e,t){a.includes(e)&&(c[t]=" amor y paz")})),c.join(" ")}(j);Object(C.g)(t,{id:(new Date).getTime(),foto:c.photoURL,mensaje:n,usuario:c.displayName}),p(),s.current.scrollIntoView({behavior:"smooth"}),b("")},children:[Object(g.jsx)("input",{disabled:!a,value:j,onChange:function(e){return b(e.target.value)},type:"text",placeholder:"Enviar a # ".concat((null===a||void 0===a?void 0:a.nombre)||"")}),Object(g.jsx)("button",{disabled:!a,className:"chat__inputButton",type:"submit",children:"Enviar Mensaje"})]}),Object(g.jsxs)("div",{className:"chat__inputIcons",children:[Object(g.jsx)(B.a,{fontSize:"large"}),Object(g.jsx)(L.a,{fontSize:"large"}),Object(g.jsx)(M.a,{fontSize:"large"})]})]})]})},ee=c(111),ae=Object(y.b)(S),ce=new y.a;var te=function(){return Object(g.jsxs)("div",{className:"login",children:[Object(g.jsx)("div",{className:"login__logo",children:Object(g.jsx)("img",{src:"https://lasfi.to/static/luisMugShot-d9965c68d7ff9a08d88c9e33cb3a26ff.png",alt:"",srcset:""})}),Object(g.jsx)(ee.a,{onClick:function(){Object(y.d)(ae,ce)},children:"Acceder con Google"})]})},se=Object(y.b)(S);Object(C.d)(S);var ne=function(){var e=Object(t.useState)(null),a=Object(r.a)(e,2),c=a[0],s=a[1],n=Object(t.useState)(null),i=Object(r.a)(n,2),j=i[0],o=i[1];return Object(y.c)(se,(function(e){s(e||null)}),console.log("error al iniciar sesi\xf3n"),console.log("sesi\xf3n iniciada")),Object(g.jsx)("div",{className:"app",children:c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(I,{setCanal:o,usuario:c}),Object(g.jsx)($,{canal:j,usuario:c})]}):Object(g.jsx)(te,{})})};c(91);i.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(ne,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.54d7ab32.chunk.js.map